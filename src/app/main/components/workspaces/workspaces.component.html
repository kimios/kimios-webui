<div fxLayout="column" fxLayoutAlign="start" style="width: 100%;" fxLayoutGap="20px"
     (drop)="handleDrop($event)">

  <div fxLayout="row"
       fxLayoutAlign="start"
       style="width: 100%;">
    <div fxFlexOffset="20px">
      <h1 class="no-margin-bottom">Workspaces</h1>
    </div>
  </div>

  <div fxLayout="row"
       fxLayoutAlign="start"
       style="width: 100%; height: 100%">

    <div fxLayout="column"
         fxLayoutAlign="start"
         fxLayoutGap="10px"
         style="width: 100%; margin-left: 20px; margin-right: 20px; margin-bottom: 84px;"
         #contentColumn id="contentColumn" >

      <div fxLayout="row"
           fxLayoutAlign="center"
      >
        <div
             #browsePathRow id="browsePathRow" fxFlex>
          <browse-path></browse-path>
        </div>
        <div>
          <form>
            <input hidden type="file" #fileInput (change)="handleFileInput($event.target.files)"
                   multiple="multiple"
            />
            <!--              webkitdirectory=""
              directory=""-->
          </form>
          <button mat-button>
            <mat-icon class="cursor-pointer"
                      (click)="fileInput.click($event.target.files)">cloud_upload</mat-icon>
          </button>
        </div>
        <ng-container *ngIf="isWorkspaceCreator | async as isWC">
          <ng-container *ngIf="isWC">
            <app-workspace-menu></app-workspace-menu>
          </ng-container>
        </ng-container>
      </div>

      <div fxLayout="row"
           fxLayoutAlign="start"
           style="padding-top: 20px; height: 100%; border-radius: 10px;"
           #treeAndGridRow id="treeAndGridRow" >

        <div fxFlex="21" id="workspacestreecontainer" style="overflow: auto;" >

          <browse-tree></browse-tree>

        </div>
        <mat-divider [vertical]="true"></mat-divider>
        <div fxFlex="79">
          <!--<div>
            <mat-paginator
                    [length]="totalFilesFound$ | async"
                    [pageSize]="pageSize"
                    [pageSizeOptions]="pageSizeOptions"
                    (page)="paginatorHandler($event)"
                    [pageIndex]="pageIndex"
                    showFirstLastButtons>
            </mat-paginator>
            <mat-divider></mat-divider>
          </div>-->

            <div fxLayout="column"
                 fxLayoutAlign="start">
              <div style="overflow: auto;">
                <entity-listing></entity-listing>
              </div>
              <div *ngIf="length > 0 else noItemsFound;" style="float: bottom; height: 72px;">
                <mat-paginator
                        [length]="length"
                        [pageSize]="pageSize"
                        [pageSizeOptions]="pageSizeOptions"
                        (page)="paginatorHandler($event)"
                        [pageIndex]="pageIndex"
                        showFirstLastButtons>
                </mat-paginator>
              </div>
              <ng-template #noItemsFound >
                <div style="width: 100%" fxLayout="row" fxLayoutAlign="center"
                     [ngClass]="'kimios-section-content'">
                  <p style="font-style: italic;">no items found</p>
                </div>
              </ng-template>
            </div>

        </div>

      </div>

    </div>

  </div>

</div>
