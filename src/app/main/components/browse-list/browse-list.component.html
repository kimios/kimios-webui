<mat-table #table [dataSource]="dataSource" [@animateStagger]="{value:'50'}" matSort
           matSort matSortActive="updateDate" matSortDirection="desc" matSortDisableClear>

  <ng-container
          *ngFor="let col of columnsDescription"
          matColumnDef="{{col.matColumnDef}}"
          sticky="{{col.sticky}}">
    <mat-header-cell
            *matHeaderCellDef
            mat-sort-header="{{col.matColumnDef}}"
    > {{col.displayName}} </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <!-- display folder icon for folders and workspaces -->
      <mat-icon *ngIf="col.id == 'name' && element.type != 3" class="type-icon" fxFlex="40px">folder</mat-icon>
      <span *ngIf="col.id != 'icon'">{{ col.cell ? col.cell(element) : element[col.matColumnDef]}}</span>
      <mat-icon *ngIf="col.id == 'icon'" class="type-icon" [ngClass]="element.extension" fxFlex="64px"></mat-icon>
    </mat-cell>
  </ng-container>

  <ng-container
          matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef> <mat-icon style="margin: auto;">apps</mat-icon> </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <!-- only for documents -->
      <div *ngIf="element.type === 3" fxLayout="row" fxLayoutAlign="space-between center" style="margin: auto;" fxLayoutGap="10px">
        <div><mat-icon title="Download document" (click)="handleFileDownload(element.lastVersionId)">get_app</mat-icon></div>
        <div><mat-icon title="Lock document">lock_open</mat-icon></div>
        <div><mat-icon title="View document">visibility</mat-icon></div>
        <div><mat-icon title="See more available actions">more_horiz</mat-icon></div>
      </div>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>

  <mat-row *matRowDef="let row; columns: displayedColumns;"
           (dblclick)="goToDocument(row)"
           (click)="onSelect(row)"
           [ngClass]="{'selected' : row == selected}"
           class="cursor-pointer"
           matRipple [@animate]="{value:'*',params:{y:'100%'}}"
  >
  </mat-row>


</mat-table>
