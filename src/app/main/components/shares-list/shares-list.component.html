<form *ngIf="mode === 'byMe'" [formGroup]="form">
  <div
          fxLayout="row"
          style="width: 100%; padding: 30px;"
          fxLayoutGap="10px"
          [ngClass]="'kimios-section-content'"
          fxLayoutAlign="start center">
    <span style="vertical-align: bottom">Filter by status: </span>
    <mat-checkbox *ngFor="let statusType of shareStatusTypes"
                  [formControlName]="statusType"
                  labelPosition="after">
      {{statusType}}
    </mat-checkbox>
  </div>
</form>

<mat-table
        *ngIf="dataSource != null"
        [dataSource]="dataSource"
        matSort
        matSortActive="{{sort.name}}"
        matSortDirection="{{sort.direction}}"
        matSortDisableClear
        (matSortChange)="sortData($event)">

  <!-- remove Column -->
  <ng-container matColumnDef="remove">
    <mat-cell *matCellDef="let row">
      <mat-icon [ngClass]="'cursor-pointer'" (click)="endShare(row.id)" >remove</mat-icon>
    </mat-cell>
  </ng-container>

  <!--<ng-container matColumnDef="checkbox">
    <mat-header-cell *matHeaderCellDef>

    </mat-header-cell>
    <mat-cell *matCellDef="let row">
      <mat-checkbox [formControlName]="row.id"></mat-checkbox>
    </mat-cell>
  </ng-container>-->

  <ng-container
          *ngFor="let col of columnsDescription"
          matColumnDef="{{col.matColumnDef}}"
          sticky="{{col.sticky}}">
    <mat-header-cell
            *matHeaderCellDef
            mat-sort-header="{{col.matColumnDef}}"
    > {{col.displayName}} </mat-header-cell>
    <mat-cell *matCellDef="let element" [class.cursor-pointer]="true" title="{{col.title ? col.title(element) : ''}}">
      <fa-icon *ngIf="col.id == 'entity'"
               [icon]="['far', retrieveDocumentIcon(element.entity, 'far')]"
               size="lg"
               [ngClass]="'file-icon-list'"></fa-icon>
      <span *ngIf="col.id != 'with'">{{col.cell ? col.cell(element) : element[col.matColumnDef]}}</span>
      <span *ngIf="col.id === 'with' && users.get(element.targetUserId + '@' + element.targetUserSource) != null">
        {{users.get(element.targetUserId + '@' + element.targetUserSource).lastName
      + ', '
      + users.get(element.targetUserId + '@' + element.targetUserSource).firstName }}
      </span>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>

  <mat-row *matRowDef="let row; columns: displayedColumns;" >
  </mat-row>

</mat-table>
<ng-container *ngIf="dataSource.connect() | async as dataSourceConnection">
  <div *ngIf="dataSourceConnection.length === 0" style="width: 100%" fxLayout="row" fxLayoutAlign="center"
       [ngClass]="'kimios-section-content'">
    <p style="font-style: italic;">no items found</p>
  </div>
</ng-container>

